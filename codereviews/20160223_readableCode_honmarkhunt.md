# Part1 review

[PullRequestURL](https://github.com/HomMarkHunt/command_hero/pull/1)

---
## 戻り値がフレームワーク依存のせいで中身が分からない

### 問題

* 条件により別の戻り値を返すメソッドが、見た目では何を返すのかよく分からない
* 特にフレームワーク依存
* 特にController

### 対応

* JavaDocに戻り値を記載した。
* @return に記載

---
## 横に長過ぎるコードは見辛い

### 問題

* 横にツラツラと長くなってしまうとコードが一目で追えなくなってしまう

### 対応

* 横幅の制限をコーディングルールに追加する
* 昔は80行、長い人で120行まで
* 100行を制限とする

### その他

* 各種IDEで横幅の制限を明示的に表示することができるみんな導入しよう

---
## コメントを書いても後で見つからない

### 問題

* "後で修正する"
* "バグが潜んでいる可能性がある"
* などをコメントに残しても後で見つけることができない

### 対応

* タグ付きコメントで記載することでIDEで見つけることができる
* XXX   : 優先度低 
* TODO  : 優先度中
* FIXME : 優先度高

### その他

* コメントのつけ方はチームごとに異なるので、毎回確認するべし

---
## java.util.stream#foreach内の一時変数が長い

### 問題

* stream内で長い一時変数名はみづらくなる

### 対応

* 慣例的に変数は1文字でよい
* 可読性は下がらない
* filesならfなどで伝わる

---
## 配列の変数名にarrayはいらない

### 問題

* File[] arrayFilesの"array"は不要
* **型を表す変数名はいらない**
* 特に **スコープが小さければ** 不要

### 対応

* 配列を表すarrayを除去
* スコープが小さければ、変数名に型名は不要
* hogeStrなど

---
## マジックナンバーはやめよう

### 問題

* コード上に **1**, **0** 以外の数が出てくると読み手はなぜ数が急に出てきたか分からない

### 対応

* **1**, **0** 以外の数はコード上に突然出さない
* 変数、定数に格納する
* 設定ファイルに書き出す

### その他

* JavaDocにも書くといい

---
## 文字列をハードコードするのはダメ

### 問題

* コード上に文字列のハードコードが突然出てくると
* 読みづらい
* 仕様変更時に直接そこを書き変えないといけない

### 対応

* 変数、定数に格納する
* 設定ファイルに書き出す

---
## +演算子はあまり使うべきじゃない

### 問題

* String同士を + で結合するとパフォーマンスが低下するのでやめたほうがいい

### 対応

* StringBuffer or StringBuilderが推奨
* せめてString#Format() を使おう

---
## Fileクラスのコンストラクタを使わずに、文字列結合してからFileクラスのコンストラクを呼び出していた

### 問題

* わざわざファイルパスを文字列結合してからFileクラスに渡す必要はなし
* Fileクラスのコンストラクタを使えば良かった

```java
String path = "parentDir" + "childDir";
File file = new File(path);
```

### 対応

* Fileクラスのコンストラクタを使用する。

```java
File file = new File("parentDir", "childDir");
```

### その他

* **そもそも標準ライブラリを知らなかったのが一番の原因**

---
## ファイルの最後に改行を入れるということもある

### 問題

* ファイルの最終行に改行を入れてあげる
* **catコマンドをした時に、一行目がプロンプトの真横にきて見辛くなる**

### 対応

* 特にマイナス要素は無いので最終行には改行を入れる

### その他

* チーム次第なところでもあるので一度確認しよう
